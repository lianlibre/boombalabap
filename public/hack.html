<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="shortcut icon" href="https://j.top4top.io/p_3537vssgq1.png"/>
<title>P4WN3D!</title>
<style>
  html,body { height:100%; margin:0; background:#000; overflow:hidden; font-family:monospace; }
  #stage { display:block; width:100vw; height:100vh; }
  .overlay-ui {
    position:fixed;
    left:12px; bottom:12px;
    color:#7fff7f; font-size:12px; opacity:0.85;
    background: rgba(0,0,0,0.25); padding:6px 8px; border-radius:6px;
    border:1px solid rgba(127,255,127,0.08);
  }
  /* subtle CRT scanlines */
  .scanlines { position:fixed; inset:0; pointer-events:none; mix-blend-mode:overlay; opacity:0.06; background-image:linear-gradient(rgba(0,0,0,.0) 50%, rgba(0,0,0,.06) 51%); background-size:100% 4px; }
</style>
</head>
<body>
<canvas id="stage"></canvas>
<div class="scanlines"></div>
<div class="overlay-ui">4 W3STL1F3</div>

<script>
// Config
const LOGO_SRC = 'https://j.top4top.io/p_3537vssgq1.png'; // change if filename differs
const WIDTH = window.innerWidth;
const HEIGHT = window.innerHeight;
const canvas = document.getElementById('stage');
canvas.width = WIDTH;
canvas.height = HEIGHT;
const ctx = canvas.getContext('2d');

// Offscreen for channel effects
const offR = document.createElement('canvas'); offR.width = WIDTH; offR.height = HEIGHT; const rctx = offR.getContext('2d');
const offG = document.createElement('canvas'); offG.width = WIDTH; offG.height = HEIGHT; const gctx = offG.getContext('2d');
const offB = document.createElement('canvas'); offB.width = WIDTH; offB.height = HEIGHT; const bctx = offB.getContext('2d');

let logo = new Image();
logo.src = LOGO_SRC;
logo.onload = () => requestAnimationFrame(loop);

// Matrix rain columns
const cols = Math.floor(WIDTH / 14);
const drops = new Array(cols).fill(0).map(() => Math.random() * HEIGHT);

// Particle-ish bug silhouettes
class Bug {
  constructor() {
    this.reset();
  }
  reset() {
    this.x = Math.random()*WIDTH;
    this.y = -20 - Math.random()*HEIGHT*0.5;
    this.vx = (Math.random()-0.5)*0.6;
    this.vy = 0.6 + Math.random()*1.6;
    this.size = 6 + Math.random()*18;
    this.spin = (Math.random()-0.5)*0.04;
    this.alpha = 0.15 + Math.random()*0.6;
  }
  step() {
    this.x += this.vx;
    this.y += this.vy;
    this.vx += Math.sin(this.y*0.01)*0.02;
    this.vy *= 1.001;
    if (this.y > HEIGHT + 50 || this.x < -100 || this.x > WIDTH + 100) this.reset();
  }
  draw(ctx) {
    ctx.save();
    ctx.globalAlpha = this.alpha;
    ctx.translate(this.x, this.y);
    ctx.rotate(this.y * this.spin);
    const s = this.size;
    // simple insect silhouette: ellipse body + 6 legs/antennae
    ctx.fillStyle = '#5aff5a';
    ctx.beginPath();
    ctx.ellipse(0, 0, s*0.7, s*0.45, 0, 0, Math.PI*2);
    ctx.fill();
    ctx.strokeStyle = '#1b1';
    ctx.lineWidth = Math.max(1, s*0.06);
    // legs
    for (let i=0;i<3;i++){
      ctx.beginPath();
      ctx.moveTo(-s*0.2 + i*0.2*s, s*0.1);
      ctx.lineTo(-s*0.8 - i*0.15*s, s*0.6 + i*0.12*s);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(-s*0.2 + i*0.2*s, -s*0.1);
      ctx.lineTo(-s*0.8 - i*0.15*s, -s*0.6 - i*0.12*s);
      ctx.stroke();
    }
    // antennae
    ctx.beginPath();
    ctx.moveTo(s*0.4, -s*0.2);
    ctx.quadraticCurveTo(s*0.9, -s*0.8, s*1.4, -s*1.1);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(s*0.4, s*0.2);
    ctx.quadraticCurveTo(s*0.9, s*0.8, s*1.4, s*1.1);
    ctx.stroke();

    ctx.restore();
  }
}
const bugs = [];
for (let i=0;i<12;i++) bugs.push(new Bug());

// Glitch control
let glitchTimer = 0;
function maybeTriggerGlitch() {
  if (Math.random() < 0.015) glitchTimer = 8 + Math.floor(Math.random()*18);
}

// Draw functions
function drawMatrixRain(ctx) {
  ctx.save();
  ctx.fillStyle = 'rgba(0,0,0,0.0)';
  ctx.fillRect(0,0,WIDTH,HEIGHT);
  ctx.font = '12px monospace';
  for (let i=0;i<cols;i++){
    ctx.fillStyle = 'rgba(50,255,100,0.06)';
    const text = (Math.random()>0.85) ? String.fromCharCode(48 + Math.floor(Math.random()*10)) : (Math.random()>0.6 ? String.fromCharCode(65+Math.floor(Math.random()*26)) : (Math.random()>0.5 ? '|' : ' '));
    ctx.fillText(text, i*14, drops[i]*14/14);
    drops[i] += 0.8 + Math.random()*6;
    if (drops[i]*14 > HEIGHT && Math.random() > 0.975) drops[i] = 0;
  }
  ctx.restore();
}

function rgbShiftDraw() {
  // clear offscreens
  rctx.clearRect(0,0,WIDTH,HEIGHT); gctx.clearRect(0,0,WIDTH,HEIGHT); bctx.clearRect(0,0,WIDTH,HEIGHT);
  // draw logo centered into each channel canvas (we'll tint)
  const scale = Math.min(WIDTH*0.6 / logo.width, HEIGHT*0.6 / logo.height);
  const w = logo.width * scale;
  const h = logo.height * scale;
  const cx = (WIDTH - w)/2;
  const cy = (HEIGHT - h)/2;

  // draw original into each
  rctx.drawImage(logo, cx, cy, w, h);
  gctx.drawImage(logo, cx, cy, w, h);
  bctx.drawImage(logo, cx, cy, w, h);

  // apply color filters by filling with globalCompositeOperation 'source-in'
  rctx.globalCompositeOperation = 'source-in'; rctx.fillStyle = 'rgba(255,40,40,0.8)'; rctx.fillRect(0,0,WIDTH,HEIGHT); rctx.globalCompositeOperation = 'source-over';
  gctx.globalCompositeOperation = 'source-in'; gctx.fillStyle = 'rgba(40,255,40,0.72)'; gctx.fillRect(0,0,WIDTH,HEIGHT); gctx.globalCompositeOperation = 'source-over';
  bctx.globalCompositeOperation = 'source-in'; bctx.fillStyle = 'rgba(40,120,255,0.55)'; bctx.fillRect(0,0,WIDTH,HEIGHT); bctx.globalCompositeOperation = 'source-over';

  // draw onto main with small offsets for glitchy chromatic aberration
  const rx = (Math.random()-0.5)*8;
  const gx = (Math.random()-0.5)*6;
  const bx = (Math.random()-0.5)*4;
  ctx.drawImage(offR, rx-2, -2);
  ctx.drawImage(offG, gx+1, 1);
  ctx.globalAlpha = 0.85;
  ctx.drawImage(offB, bx, 0);
  ctx.globalAlpha = 1;
  return {cx,cy,w,h};
}

function drawGlitchSlices(cx,cy,w,h) {
  // slice the logo area horizontally and draw slices with offsets & noise
  const sliceCount = 6 + Math.floor(Math.random()*8);
  for (let i=0;i<sliceCount;i++){
    const sh = Math.max(4, Math.floor((h/sliceCount) * (0.5 + Math.random())));
    const sy = cy + Math.floor(Math.random()*(h-sh));
    const dx = cx + (Math.random()-0.5)*60;
    // copy from main context (we used offscreens earlier) -> safest to copy from offG to preserve colors
    ctx.drawImage(offG, cx, sy, w, sh, dx, sy + (Math.random()-0.5)*12, w, sh);
    // small red/blue overlays
    ctx.globalAlpha = 0.12;
    ctx.fillStyle = '#00ff00';
    ctx.fillRect(dx, sy, Math.random()*10, sh);
    ctx.globalAlpha = 1;
  }
}

function loop(t) {
  // background
  ctx.fillStyle = '#000000';
  ctx.fillRect(0,0,WIDTH,HEIGHT);

  // draw binary rain into a separate invisible layer (we'll composite)
  // draw matrix rain very faintly directly
  drawMatrixRain(ctx);

  // draw RGB-shifted logo and get its placement
  const placement = rgbShiftDraw();

  // occasionally glitch
  if (glitchTimer > 0) {
    drawGlitchSlices(placement.cx, placement.cy, placement.w, placement.h);
    glitchTimer--;
  } else {
    if (Math.random() < 0.02) maybeTriggerGlitch();
  }

  // draw subtle overlay rectangles for 'terminal' feel
  ctx.save();
  ctx.globalAlpha = 0.06;
  for (let i=0;i<8;i++){
    ctx.fillStyle = i%2 ? '#1b1' : '#0b0';
    ctx.fillRect(placement.cx - 40 + i*20, placement.cy + placement.w*0.05, 8, placement.h*0.9);
  }
  ctx.restore();

  // draw bugs
  for (let b of bugs) {
    b.step();
    b.draw(ctx);
  }

  // top-left pseudo-terminal text
  ctx.save();
  ctx.fillStyle = '#7fff7f';
  ctx.font = '13px monospace';
  ctx.fillText('> user@Mr.PRNCE S:~$ ./boot -h', 18, 28);
  ctx.globalAlpha = 0.08 + Math.random()*0.15;
  ctx.fillText('kernel: init: security: suspicious-bug-detected', 18, 46);
  ctx.restore();

  requestAnimationFrame(loop);
}

// Resize handling
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

// small helper to occasionally trigger glitch
setInterval(maybeTriggerGlitch, 900);

// show message if logo not found
logo.onerror = (e) => {
  ctx.clearRect(0,0,WIDTH,HEIGHT);
  ctx.fillStyle = '#001100';
  ctx.fillRect(0,0,WIDTH,HEIGHT);
  ctx.fillStyle = '#7fff7f';
  ctx.font = '18px monospace';
  ctx.fillText('Could not load logo: ' + LOGO_SRC, 20, 60);
  ctx.fillText('Make sure the file is in the same folder and named exactly.', 20, 90);
};
</script>
<audio id="bgAudio" src="https://g.top4top.io/m_3537xf3me1.mp3" loop muted></audio>

<script>
const audio = document.getElementById('bgAudio');
let started = false;

function startAudio() {
    if (started) return;
    audio.muted = false;
    const playPromise = audio.play();
    if (playPromise !== undefined) {
        playPromise
            .then(_ => { started = true; console.log("✅ Audio started"); })
            .catch(error => { console.log("❌ Audio blocked:", error); });
    }
}

// Trigger on ANY early user interaction
['mousedown', 'mouseup', 'mousemove', 'click', 'touchstart', 'touchend',
 'keydown', 'keypress', 'wheel', 'scroll'].forEach(event => {
    window.addEventListener(event, startAudio, { once: true, passive: true });
});

// Optional: Try on page focus (if user switches tabs back)
window.addEventListener('focus', startAudio, { once: true });
</script>
<script type="text/javascript"> //<![CDATA[
shortcut={all_shortcuts:{},add:function(a,b,c){var d={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(c)for(var e in d)"undefined"==typeof c[e]&&(c[e]=d[e]);else c=d;d=c.target,"string"==typeof c.target&&(d=document.getElementById(c.target)),a=a.toLowerCase(),e=function(d){d=d||window.event;if(c.disable_in_input){var e;d.target?e=d.target:d.srcElement&&(e=d.srcElement),3==e.nodeType&&(e=e.parentNode);if("INPUT"==e.tagName||"TEXTAREA"==e.tagName)return}d.keyCode?code=d.keyCode:d.which&&(code=d.which),e=String.fromCharCode(code).toLowerCase(),188==code&&(e=","),190==code&&(e=".");var f=a.split("+"),g=0,h={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","":"|"},i={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},j=!1,l=!1,m=!1,n=!1,o=!1,p=!1,q=!1,r=!1;d.ctrlKey&&(n=!0),d.shiftKey&&(l=!0),d.altKey&&(p=!0),d.metaKey&&(r=!0);for(var s=0;k=f[s],s<f.length;s++)"ctrl"==k||"control"==k?(g++,m=!0):"shift"==k?(g++,j=!0):"alt"==k?(g++,o=!0):"meta"==k?(g++,q=!0):1<k.length?i[k]==code&&g++:c.keycode?c.keycode==code&&g++:e==k?g++:h[e]&&d.shiftKey&&(e=h[e],e==k&&g++);if(g==f.length&&n==m&&l==j&&p==o&&r==q&&(b(d),!c.propagate))return d.cancelBubble=!0,d.returnValue=!1,d.stopPropagation&&(d.stopPropagation(),d.preventDefault()),!1},this.all_shortcuts[a]={callback:e,target:d,event:c.type},d.addEventListener?d.addEventListener(c.type,e,!1):d.attachEvent?d.attachEvent("on"+c.type,e):d["on"+c.type]=e},remove:function(a){var a=a.toLowerCase(),b=this.all_shortcuts[a];delete this.all_shortcuts[a];if(b){var a=b.event,c=b.target,b=b.callback;c.detachEvent?c.detachEvent("on"+a,b):c.removeEventListener?c.removeEventListener(a,b,!1):c["on"+a]=!1}}},
shortcut.add("esc",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+Shift+Del",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+F",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+W",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+U",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+A",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+S",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+X",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+C",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+V",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+Y",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+Z",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+Shift+J",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("Ctrl+R",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
shortcut.add("F5",function(){top.location.href="https://c.top4top.io/m_35377kdfk1.mp4"});
//]]></script>
</body>
</html>
